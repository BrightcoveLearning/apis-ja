---
title:  '概要：Data Collection APIv2'
description:  'このトピックでは、Analytics Data Collection API v2の概要を説明します。これにより、Brightcoveがイベントを直接追跡できない状況で、Video CloudAnalyticsデータにイベントを追加できます。'
parent: Data Collection API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  <aside class="bcls-aside bcls-aside--warning"><strong>ノート：</strong>このAPIを使用して、Brightcoveプレーヤー、またはAndroidおよびiOS SDKプレーヤーのイベントを追跡しないでください。これはすでに自動的に行われ、重複データが追加されるためです。</aside>
  <section class="bcls-section">
    <h2 id="introduction">入門</h2>

    <p>アナリティクスデータは、ネイティブプレーヤー SDK によって提供されるものを含め、ブライトコーブプレーヤーによって自動的に送信されます。<strong>Video Cloud 動画の配信に Brightcove Player を使用していない場合は、データコレクターにデータを送信するのに使用しているプレーヤーを計測する必要があります。</strong></p>

    <p>Data Collection APIv2が現在の標準です。v1バージョンは非推奨です。v1を実装している場合は、<a href="#changesFromV1"> v1からの変更</a>以下のセクション。</p>

    <p>この概要と<a href="/data-collection/references/reference.html">APIリファレンス</a>、これも参照してください<a href="/data-collection/getting-started/data-collection-api-sample.html">サンプル実装</a>。</p>

    <p>Analytics Data Collection APIは、リアルタイム分析イベントのエンドポイントです。イベントデータは、次のようなHTTPリクエストを介して送信された一連のパラメータを介してBrightcoveに送信されます。</p>

    <pre style="white-space:pre-wrap;padding-top:1em;padding-bottom:1em;">
  <code class="language-http" translate="No">http://metrics.brightcove.com/v2/tracker?event=video_view&amp;amp;domain=videocloud&amp;account=123&amp;video=789
  </code>
  </pre>

    <p>これらのパラメータは、<strong>事実</strong>イベントが発生したときのシステムの状態について。上記の例は、<code translate="No">video_view</code>ビデオでイベントが発生しました<code translate="No">789</code>アカウント用<code translate="No">123</code>（または：ユーザーがアカウントの視聴を開始しました<code translate="No">123</code>のビデオ<code translate="No">789</code>。見る<a href="#video-cloud-events">未満</a>追跡されている現在の分析イベントの説明について）。</p>

    <h3 id="dimensions">サイズ</h3>

    <p>ディメンションは、イベントが発生したときのシステムの状態に関する定性的な事実です。たとえば、リクエストが次の場合：</p>

    <pre style="white-space:pre-wrap;padding-top:1em;padding-bottom:1em;">
  <code class="language-http" translate="No">http://metrics.brightcove.com/tracker
  ?event=video_view&amp;session=581136_2018-07-03T18:34:46.214Z
  &amp;domain=videocloud&amp;account=123
  &amp;video=789
  </code>
  </pre>

    <p>ビデオID（<code translate="No">789</code>）およびアカウントID（<code translate="No">123</code>）、およびリクエスト自体から収集されたデバイスと場所の情報はすべて、<code translate="No">video_view</code>イベント。分析システムはそれを記録します<code translate="No">video_view</code>このリクエストが行われたときに、これらのディメンションでイベントが発生しました。</p>

    <h3 id="event-and-domain-parameters">イベントとドメインのパラメータ</h3>

    <p>ザ・<code translate="No">event</code>パラメータは、発生したイベントを記述します。ザ・<code translate="No">domain</code>パラメータは、イベントの名前空間を提供します。ザ・<code translate="No">event</code>、<code translate="No">domain</code>、および<code translate="No">session</code>必須パラメータです（の値<code translate="No">domain</code>常に<code translate="No">videocloud</code>）。</p>

    <h3 id="additional-parameters">追加のパラメーター</h3>

    <p>Analyticsシステムがイベントを正常に分析できるように、特定のパラメーターをイベントに含める必要があります</p>

    <aside class="bcls-aside bcls-aside--warning">あなたがすべき<strong>いいえ</strong>送信<code translate="No">player</code>（プレイヤーID）または<code translate="No">player_name</code>ブライトコーブ以外のプレイヤー向けの情報。代わりに、<code translate="No">destination</code>ビデオが見られた場所を追跡するためのパラメータ。</aside>
  </section>

  <section class="bcls-section">
    <h2 id="responseTypes">応答タイプ</h2>

    <p>分析Data Collection APIリクエストへの応答には、HTTP応答コードと人間が読めるメッセージが含まれます。</p>

    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>HTTPステータスコード</th>
          <th>説明</th>
          <th>例</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><code translate="No">200</code></td>
          <td>リクエストはコレクターによって正常に受信され、永続化されています。</td>
          <td>（1x1ピクセルの透明なGIF画像を返します）</td>
        </tr>
        <tr>
          <td><code translate="No">400</code></td>
          <td>クライアントから送信されたリクエストに必要なパラメータがありません：<code translate="No">domain</code>、<code translate="No">account</code>または<code translate="No">event</code>。（ドメイン固有のパラメーターが欠落している場合、このステータスは返されません。）</td>
          <td><code translate="No">"Invalid 'event' parameter"</code></td>
        </tr>
        <tr>
          <td><code translate="No">50x</code></td>
          <td>これはエラーコードであり、サーバー側に問題があることを示しています。イベントは、分析システムによって正常に記録されている場合とされていない場合があります。</td>
          <td><code translate="No">"Server-side failure, please retry."</code></td>
        </tr>
      </tbody>
    </table>
  </section>

	<section class="bcls-section">
		<h2 id="VOD_and_Live_Events">VODとライブイベント</h2>
		<h3>ライブイベント</h3>
		<p>Data Collection APIがイベントを次のように分類するには、次の条件を満たす必要があります。<strong>住む</strong>：</p>
		<ul>
			<li>リクエストする必要があります<strong>ない</strong> video_durationパラメータがあります。</li>
			<li>リクエストにはアカウントパラメータが必要です。</li>
			<li>リクエストにはビデオパラメータが必要です。</li>
			<li>
				イベントタイプは、次のいずれかである必要があります。
				<ul>
					<li>video_impression<code translate="no"></code></li>
					<li>video_view<code translate="no"></code></li>
					<li>video_engagement<code translate="no"></code></li>
					<li>alive_ss_ad_start<code translate="no"></code></li>
				</ul>
			</li>
			<li>アカウントは、ライブビデオストリーミングのBrightcoveサポートによって有効にされている必要があります。</li>
		</ul>
		<h3>VOD</h3>
		<p>を含むリクエスト<code translate="no">video_duration</code>パラメータは次のように分類されます<strong>VOD</strong>。</p>
	</section>

  <section class="bcls-section">
    <h2 id="minimal">最小限のデータ</h2>

    <p>少なくとも、送信する必要があります<code translate="No">session</code> idと<code translate="No">video_view</code>セッション中に再生されるすべてのビデオのイベント。NS <code translate="No">video_view</code>送信する必要があります <em>後</em> プレロール広告が完了します。</p>

    <h3><code translate="No">session</code></h3>

    <p>これはセッション識別子です。ザ・<code translate="No">session</code>本質的には、プレーヤーが含まれているページまたはアプリビューの1つのビューであり、それが続く限りです。値は、セッションの間一定である必要があり、<strong>すべてのイベントに送信</strong>。グローバル一意識別子（GUID）にできるだけ近い必要があります。衝突が発生した場合、2つのセッションを解くことができないと、無効として破棄される可能性があります。</p>
    <p>JavaScriptでGUIDを作成するためのさまざまなスキームがあります。一例は<a href="https://github.com/dustinpoissant/GUIDJS">このGitHubリポジトリ</a>。サードパーティのスクリプトはBrightcoveではサポートされていないことに注意してください。</p>

    <h3>パフォーマンスの最小限のデータ（プレイレートとエンゲージメントスコア）</h3>
    <h4>イベント</h4>
    <ul>
      <li><code translate="No">video_impression</code></li>
      <li><code translate="No">video_view</code></li>
      <li><code translate="No">video_engagement</code></li>
    </ul>
    <h4>属性（すべてのイベント）</h4>
    <ul>
      <li><code translate="No">account</code></li>
      <li><code translate="No">video</code></li>
    </ul>
    <h4>追加の属性（<code translate="No">video_engagement</code>イベントのみ）</h4>
    <h5>VOD</h5>
    <ul>
      <li><code translate="No">range</code></li>
      <li><code translate="No">video_duration</code></li>
    </ul>
    <h5>ライブ</h5>
    <ul>
      <li><code translate="No">video_seconds_viewed</code></li>
    </ul>
    <h4>HTTPヘッダー</h4>
    <ul>
      <li><code translate="No">User-Agent</code> -デバイスレポートに必要</li>
    </ul>

    <aside class="bcls-aside bcls-aside--warning">Analyticsシステムは、指定されたもののみを返すことができることに注意してください。完全なデータを送信しないと、VideoCloud分析のデータが不足します。</aside>
  </section>

  <section class="bcls-section">
    <h2 id="bestPractices">ベストプラクティス</h2>

    <p>コレクターに正しいデータを送信していることを確認するには、データ収集スクリプトを一般的にデプロイする前にテストする必要があります。おすすめ：</p>

    <ol>
      <li>プレーヤーのデータ収集スクリプトを作成します。</li>
      <li>制御された環境で少なくとも1日テストします。</li>
      <li>分析モジュールまたは分析モジュールを介して分析データを確認します。<span translate="No"> Analytics API</span>収集されたものがあなたの期待に一致することを保証するため。</li>
    </ol>

    <h3>リクエストの送信-CORSの問題の回避</h3>

    <aside class="bcls-aside bcls-aside--tip">
      <p>Data Collection APIに「送信」する最良の方法は、リクエストURLを次のように設定することです。<code translate="No">src</code>新しい画像の値（<code translate="No">img</code>）要素を入力し、その要素をページに挿入します。</p>

      <p>ではなく、同じ方法を使用する必要があります<code translate="No">XMLHttpRequest</code>または回避するために他のいくつか<a href="https://general.support.brightcove.com/developer/concepts-cors.html">CORS</a>問題。</p>

      <p>実装例については、を参照してください。<a href="/data-collection/getting-started/data-collection-api-sample.html">データ収集サンプル</a>。</p>
    </aside>
  </section>

  <section class="bcls-section">
    <h2 id="junk-data">ジャンクデータ</h2>

    <p><strong>一般に、コレクターに送信されたデータは、分析システムによって真実として記録されます。</strong>イベントに不適切または不正確な情報が含まれている場合、Analyticsシステムはデータを誤って解釈します。</p>

    <p>たとえば、誤ってタイムスタンプをビデオIDとして送信した場合、分析データは全体的な要約に影響を与える方法で歪められます。</p>

    <aside class="bcls-aside bcls-aside--tip">データの送信を開始する前に、生成しているURLを注意深く調べてください。</aside>
  </section>

  <section class="bcls-section">
    <h2 id="encoding">URI エンコード</h2>

    <p>スペースや特殊文字を含む可能性のあるData Collection APIに送信する文字列<strong>URIエンコードする必要があります</strong>リクエストが成功するために。JavaScriptを介してリクエストを送信する場合は、<code class="language-javascript" translate="No">encodeURI()</code>メソッドは、リクエスト文字列をエンコードします。例は次のとおりです。</p>

    <pre class="line-numbers">
  <code class="language-javascript" translate="No">urlStr += "&amp;video=" + currentVideo.id + "&amp;video_name=" + encodeURI(currentVideo.video_name);
  </code>
  </pre>
  </section>

  <section class="bcls-section">
    <h2 id="video-cloud-events">イベント</h2>

    <p>以下にリストされているイベントは、Analyticsシステムによって処理されます。</p>

    <dl>
      <dt><code translate="No">player_load</code></dt>
      <dd>
        <h5>意図/意味</h5>
        <p>プレーヤーセッションがエンドユーザーによって開始されました。これは分析セッションの開始を示し、他のイベントの前に送信する必要があります。</p>
        <h5>例</h5>
        <pre><code class="language-http" translate="No">http://metrics.brightcove.com/tracker
  ?event=player_load
  &amp;session=581136_2018-07-03T18:34:46.214Z
  &amp;destination=http%3A-%2F%2Fsup-port.brightcove.com%2F
  &amp;source=http%3A-%2F%2Fwww.google.com
  %2Furl%3Fsa%3D-t%26rct%3Dj%26q%3D%26esrc%3Ds%26source
  %253A-%252F%252Fsupport.brightcove.com%252F%26ei%3D
  OdxWZSGdJ-pL7WJaEeUJVlnw%26bvm%3Dbv.51156542%2Cd.dmg
  &amp;domain=videocloud
  &amp;account=1749339200
  &amp;time=1377191644796</code></pre>
      </dd>
      <dt><code translate="No">error</code></dt>
      <dd>
        <h5>意図/意味</h5>
        <p>再生体験を妨げる致命的なエラーが発生したときに送信されます。</p>
        <h5>例</h5>
        <pre><code class="language-http" translate="No">http://metrics.brightcove.com/tracker
  ?event=error
  &amp;error_code=MEDIA_ERR_SRC_NOT_SUPPORTED
  &amp;session=581136_2018-07-03T18:34:46.214Z
  &amp;destination=http%3A-%2F%2Fsup-port.brightcove.com%2F
  &amp;source=http%3A-%2F%2Fwww.google.com
  %3Dhttp%253A-%252F%252Fsupport.brightcove.com
  %26usgWZSGdJ-pL7WJaEeUJVlnw%26bvm%3Dbv.51156542%2Cd.dmg
  &amp;domain=videocloud
  &amp;account=1749339200
  &amp;time=1377191644796</code></pre>
      </dd>
      <dt><code translate="No">catalog_request</code></dt>
      <dd>
        <h5>意図/意味</h5>
        <p>ビデオクラウドPlayback APIへのリクエストが行われたときに送信されます。</p>
        <h5>例</h5>
        <pre><code class="language-http" translate="No">http://metrics.brightcove.com/tracker
  ?event=catalog_request
  &amp;session=581136_2018-07-03T18:34:46.214Z
  &amp;catalog_url=https%3A%2F%2Fedge.api.brightcove.com%2Fplayback
  &amp;destination=http%3A-%2F%2Fsup-port.brightcove.com%2F
  &amp;source=http%3A-%2F%2Fwww.google.com
  %3Dhttp%253A-%252F%252Fsupport.brightcove.com
  WZSGdJ-pL7WJaEeUJVlnw%26bvm%3Dbv.51156542%2Cd.dmg
  &amp;domain=videocloud&amp;account=1749339200
  &amp;time=1377191644796</code></pre>
      </dd>
      <dt><code translate="No">catalog_response</code></dt>
      <dd>
        <h5>意図/意味</h5>
        <p>前への応答時に送信されます<code translate="No">catalog_request</code>受け取ります。</p>
        <h5>例</h5>
        <pre><code class="language-http" translate="No">http://metrics.brightcove.com/tracker
  ?event=catalog_response
  &amp;session=581136_2018-07-03T18:34:46.
  &amp;catalog_url=https%3A%2F%2Fedge.api.brightcove.com%2Fp2F23823423800
  &amp;response_time_ms=243
  &amp;destination=http%3A-%2F%2Fsup-port.brightcove.com%2F
  &amp;source=http%3A-%2F%2Fwww.google.com
  53A-%252F%252Fsupport.brightcove.com%252F%2Tzn-oCgCQ
  AFQjCNJaEeUJVlnw%26bvm%3Dbv.51156542%2Cd.dmg
  &amp;domain=videocloud
  &amp;account=1749339200
  &amp;time=1377191644796</code></pre>
      </dd>
      <dt><code translate="No">play_request</code></dt>
      <dd>
        <h5>意図/意味</h5>
        <p>ユーザーが明示的に再生ボタンをクリックしたときに再生が開始されたとき、またはプラットフォームが自動再生シナリオで再生をトリガーしたときに自動的に送信されます。複数のことに注意してください<code translate="No">play_request</code>視聴者がビデオを一時停止および再開した場合、1回の視聴セッション中にイベントが送信されることがあります。</p>
        <h5>例</h5>
        <pre><code class="language-http" translate="No">http://metrics.brightcove.com/tracker
  ?event=play_request
  &amp;session=581136_2018-07-03T18:34:46.214Z
  &amp;destination=http%3A-%2F%2Fsup-port.brightcove.com%2F
  &amp;source=http%3A-%2F%2Fwww.google.com
  %3Dhttp%253A-%252F%252Fsupport.brightcove.com%252F%2
  dJ-pL7WJaEeUJVlnw%26bvm%3Dbv.51156542%2Cd.dmg
  &amp;domain=videocloud
  &amp;account=1749339200
  &amp;time=1377191644796</code></pre>
      </dd>
      <dt><code translate="No">ad_mode_begin</code></dt>
      <dd>
        <h5>意図/意味</h5>
        <p>再生プラットフォームによってコントロールが広告エージェントに引き渡されたときに送信されます。</p>
        <h5>例</h5>
        <pre><code class="language-http" translate="No">http://metrics.brightcove.com/tracker
  ?event=ad_mode_begin
  &amp;session=581136_2018-07-03T18:34:46.214Z
  &amp;destination=http%3A-%2F%2Fsup-port.brightcove.com%2F
  &amp;source=http%3A-%2F%2Fwww.google.com
  %3Dhttp%253A-%252F%252Fsupport.brightcove.com%252
  %26usg%3DAFQjCNEtLod%3Dbv.51156542%2Cd.dmg
  &amp;domain=videocloud
  &amp;account=1749339200
  &amp;time=1377191644796</code></pre>
      </dd>
      <dt><code translate="No">ad_mode_complete</code></dt>
      <dd>
        <h5>意図/意味</h5>
        <p>再生プラットフォームによってコントロールが広告エージェントに引き渡されたときに送信されます。</p>
        <h5>例</h5>
        <pre><code class="language-http" translate="No">http://metrics.brightcove.com/tracker
  ?event=ad_mode_complete
  &amp;session=581136_2018-07-03T18:34:46.214Z
  &amp;destination=http%3A-%2F%2Fsup-port.brightcove.com%2F
  &amp;source=http%3A-%2F%2Fwww.google.com
  %3Dhttp%253A-%252F%252Fsupport.brightcove.com%252F%2
  WZSGdJ-pL7WJaEeUJVlnw%26bvm%3Dbv.51156542%2Cd.dmg
  &amp;domain=videocloud
  &amp;account=1749339200
  &amp;time=1377191644796</code></pre>
      </dd>
      <dt><code translate="No">video_impression</code></dt>
      <dd>
        <h5>意図/意味</h5>
        <p>プレーヤーに追加されたビデオのメタデータの読み込みが完了し、プレーヤーは自動再生またはユーザー操作のいずれかを介してビューイベントをトリガーする準備ができています。</p>
        <h5>例</h5>
        <pre><code class="language-http" translate="No">http://metrics.brightcove.com/tracker
  ?event=video_impression
  &amp;session=581136_2018-07-03T18:34:46.214Z
  &amp;destination=http%3A%2F%2Fwww.current-times.com%2F
  &amp;time=1377191644801
  &amp;source=http%3A%2F%2Fwww.google.com
  %252-F%26ei%3DoEYWUtCgEIXq9ATznoCgCQ
  %26usg%3DAFQjCNEtLod-Odx6bvm%3Dbv.5115-6542%2Cd.dmg
  &amp;video=2621468623001
  &amp;video_name=Democratic-Rivals%20Target%20Bill
  &amp;domain=videocloud
  &amp;account=1749339200</code></pre>
      </dd>
      <dt><code translate="No">video_view</code></dt>
      <dd>
        <h5>意図/意味</h5>
        <p>ビデオの再生が開始されました（ロード後の自動再生、またはユーザーの操作による）。1つだけであることに注意してください<code translate="No">video_view</code>イベントは、視聴者がビデオを停止して再起動または再生した場合でも、視聴セッション中に記録されます。</p>
        <aside class="bcls-aside bcls-aside--information">注:動画にプレロール広告がある場合は、広告の完了後に送信する必要があります。</aside>
        <h5>例</h5>
        <pre><code class="language-http" translate="No">http://metrics.brightcove.com/tracker
  ?event=video_view
  &amp;session=581136_2018-07-03T18:34:46.214Z
  &amp;destination=http%3A%2F%2Fwww.current-times.com%2F
  &amp;video=2621468623001
  &amp;video_name=Debate-2
  &amp;video_duration=189
  &amp;time=1377191666432
  &amp;source=http%3A%2F%2Fwww.google.com%2Furl%
  %252F%26ei%3DoEYWUtCgEIXq9ATznoCgCQ%26us-g
  %3DAFQjCNEtv.51156542%2Cd.dmg
  &amp;domain=videocloud
  &amp;account=1749339200</code></pre>
      </dd>
      <dt><code translate="No">video_engagement</code></dt>
      <dd>
        <h5>意図/意味</h5>
        <p>ユーザーが動画のタイムラインの秒の範囲を視聴しました。このイベントは、動画エンゲージメントを追跡するためのハートビートであり、ユーザーの操作と動画の長さによっては、再生中に何回も送信されます。再生が中断されない場合、Brightcoveプレーヤーインストルメンテーションはこのイベントを10秒ごとに送信します。<strong>20秒を超える範囲を説明するイベントは、Analyticsシステムによって破棄されます。</strong></p>
        <h5>例</h5>
        <pre><code class="language-http" translate="No">http://metrics.brightcove.com/tracker
  ?event=video_engagement
  &amp;session=581136_2018-07-03T18:34:46.214Z
  &amp;destination=http%3A%2F%2Fwww.current-times.com%2F
  &amp;video=2621468623001
  &amp;video_name=Debate-2
  &amp;video_duration=189
  &amp;time=1377191676589
  &amp;range=0..9
  &amp;source=http%3A%2F%2Fwww.google.com
  %2Furl%3Fsa%3Dt-%26rct%3Dj%26q%3D%26esrc%3Ds
  %26source%3Dweb%26cd%3D1%26ved%3D0CDYQFjAA
  %26url%3Dhttp%253A%252F%252Fwww.current-times.com
  %252F%26ei%3DoEYWUtC-gEIXq9ATznoCgCQ
  %26usg%3DAFQjCNEtLodOdxWZSGdJpL7WJ.51156542%2Cd.dmg
  &amp;domain=videocloud
  &amp;account=1749339200</code></pre>
      </dd>
    </dl>
  </section>

  <section class="bcls-section">
    <h2 id="all-event-parameters">すべてのイベントのパラメーター</h2>

    <p>これらのイベントのパラメーターには、イベントが発生したときのシステムの現在の状態に関連する情報を含める必要があり、可能な限り具体的にする必要があります。このセクションでは、すべてのイベントで送信できるパラメーターについて詳しく説明します。次のセクションでは、特定のイベントのパラメーターを示します。</p>

    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th style="width:16em;">フィールド</th>
          <th>タイプ</th>
          <th>説明</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><code translate="No">account</code></td>
          <td>文字列</td>
          <td>
            <p>アカウント ID</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">domain</code></td>
          <td>文字列</td>
          <td>
            <p>常に等しい<code translate="No">videocloud</code></p>

            <p class="type-size">許容値：<code translate="No">"videocloud"</code></p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">session</code></td>
          <td>文字列</td>
          <td>可能な限り普遍的に一意であるセッションID-を参照してください<a href="#minimal">最小限のデータ</a>詳細については、上記のセクション</td>
        </tr>
        <tr>
          <td><code translate="No">device_os</code><span class="label label-optional" style="float:right;">オプション</span></td>
          <td>文字列</td>
          <td>
            <p>ユーザーエージェントが信頼できない場合（デバイスOSとデバイスタイプの両方が含まれていない場合、または送信された値がここに表示されている値のリストにない場合は無視されます）、イベントを発生させたデバイスのOSを指定するようにオーバーライドします。<strong>通常は含まれません</strong> )</p>

            <p class="type-size">許容値：<code translate="No">"android"</code>、<code translate="No">"bada"</code>、<code translate="No">"ios"</code>、<code translate="No">"linux"</code>、<code translate="No">"mac"</code>、<code translate="No">"tv"</code>、<code translate="No">"os_x"</code>、<code translate="No">"rim"</code>、<code translate="No">"sybian"</code>、<code translate="No">"windows"</code>、<code translate="No">"other"</code></p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">device_os_version</code><span class="label label-optional" style="float:right;">オプション</span></td>
          <td>文字列</td>
          <td>
            <p>デバイスで使用されている OS のバージョン。指定されていない場合、これは追跡要求のユーザーエージェント文字列を解析することによって計算されます</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">device_type</code><span class="label label-optional" style="float:right;">オプション</span></td>
          <td>文字列</td>
          <td>
            <p>ユーザーエージェントが信頼できない場合（デバイスOSとデバイスタイプの両方が含まれていない場合、または送信された値がここに表示されている値のリストにない場合は無視されます）、イベントを発生させたデバイスのタイプを指定するようにオーバーライドします。<strong>通常は含まれません</strong> )</p>

            <p class="type-size">許容値：<code translate="No">"mobile"</code>、<code translate="No">"tablet"</code>、<code translate="No">"tv"</code>、<code translate="No">"desktop"</code>、<code translate="No">"other"</code></p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">event</code></td>
          <td>文字列</td>
          <td>
            <p>イベントタイプ</p>

            <p class="type-size">許容値：<code translate="No">"player_load"</code>、<code translate="No">"catalog_request"</code>、<code translate="No">"catalog_response"</code>、<code translate="No">"play_request"</code>、<code translate="No">"ad_mode_begin"</code>、<code translate="No">"ad_mode_complete"</code>、<code translate="No">"video_impression"</code>、<code translate="No">"video_view"</code>、<code translate="No">"video_engagement"</code>、<code translate="No">"error"</code></p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">destination</code><span class="label label-optional" style="float:right;">オプション</span></td>
          <td>文字列</td>
          <td>
            <p>イベントを発生させたURI</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">source</code><span class="label label-optional" style="float:right;">オプション</span></td>
          <td>文字列</td>
          <td>
            <p>エンドユーザーをに送信したURI <code translate="No">destination</code> URI</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">time</code><span class="label label-optional" style="float:right;">オプション</span></td>
          <td>数値</td>
          <td>
            <p>エポック時間でのイベントのタイムスタンプ（ミリ秒）</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">country</code><span class="label label-optional" style="float:right;">オプション</span></td>
          <td>文字列</td>
          <td>
            <p>ISO-3166（アルファ2）リージョンcISO-3166（アルファ2）リージョンコード（システムがIPアドレスから地理情報を検出できない場合にオーバーライド）<strong>通常は含まれません</strong></p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">country_name</code><span class="label label-optional" style="float:right;">オプション</span></td>
          <td>文字列</td>
          <td>
            <p>人間が読める国の名前（システムがIPアドレスから地理情報を検出できない場合は上書きします）<strong>通常は含まれません</strong></p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">region</code><span class="label label-optional" style="float:right;">オプション</span></td>
          <td>文字列</td>
          <td>
            <p>ISO-3166（アルファ2）地域コード（システムがIPアドレスから地理情報を検出できない場合にオーバーライド）<strong>通常は含まれません</strong></p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">region_name</code><span class="label label-optional" style="float:right;">オプション</span></td>
          <td>文字列</td>
          <td>
            <p>人間が読める地域名（システムがIPアドレスから地理情報を検出できない場合にオーバーライド）<strong>通常は含まれません</strong></p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">city</code><span class="label label-optional" style="float:right;">オプション</span></td>
          <td>文字列</td>
          <td>
            <p>市の名前<strong>通常は含まれません</strong></p>
          </td>
        </tr>
        <tr id="userData">
          <td><code translate="No">user</code><span class="label label-optional" style="float:right;">オプション</span></td>
          <td>文字列</td>
          <td>
            <p>一意のユーザー識別子-提供されていないか空白の場合、VideoCloudはフォールバック方式を使用して<code translate="No">Source IP address + the User-Agent</code>一意の識別子としての文字列。<strong> Brightcoveは、この情報を一意のユーザーの計算にのみ使用することに注意してください。APIまたはAnalyticsモジュールを介してユーザーデータ自体を取得することはできません</strong></p>
          </td>
        </tr>
      </tbody>
    </table>

    <h3 id="user">ユーザーパラメータ</h3>

    <ul>
      <li>プレーヤー/クライアントアプリケーションが一意のビューアを追跡する場合は、ユーザーパラメータとしてユーザーの一意のIDをコレクタに送信する必要があります。</li>
      <li>の場合<code translate="No">user</code>提供されていないか空白の場合は、フォールバック方式を使用します。<code translate="No">Source IP address + the User-Agent String</code>一意の識別子として。</li>
      <li>ユーザーパラメータの値がログ/データベースに保存されることはなく、ハッシュ（SHA-256を使用）のみが保存されます。</li>
      <li>コレクターによってCookieは設定されません。</li>
    </ul>

    <h4 id="uniqueuser">ユニークユーザー</h4>

    <p>Brightcove Playerのプラグイン機能を使用して、レポートされた分析に固有のビデオビューアデータを追加できます。これを行うには、一意の識別子をに追加します<code translate="No">settings</code>分析機能のオブジェクト。</p>

    <p>もちろん、一意のユーザーIDを取得する方法はアプリケーションごとに異なりますが、たとえば、このコードは、次のような一意のユーザーデータを含むログインURLが取得されることを前提としています。<strong> http://exampledomain.com/users/912389123</strong>。この一意のURLはプラグインに渡されます。</p>

    <p>以下のプラグインのコードは、次のタスクを実行します。</p>

    <ul>
      <li>標準構文を使用して、プラグイン名が次のように定義されたBrightcovePlayerプラグインを作成します。<code translate="No">uniqueUserForAnalyticsPlugin</code>。プラグインは、<code translate="No">options</code>プラグインに渡されたデータを含むオブジェクト。</li>
      <li>ザ・<code translate="No">myPlayer</code>変数には、プレーヤーへの参照が割り当てられます。同様に、他の2つの変数が作成されます。</li>
      <li>ザ・<code translate="No">userPath</code>変数には、プラグインに渡されるパスが割り当てられます。<code translate="No">options</code>オブジェクト。</li>
      <li>ザ・<code translate="No">uniqueViewer</code>変数には、解析されたバージョンの<code translate="No">userPath</code>、したがって、ユーザーIDの数字のみが変数に割り当てられます。</li>
      <li>ユーザープロパティがAnalyticsプラグインに追加されます<code translate="No">settings</code>オブジェクト。</li>
    </ul>

    <pre class="line-numbers">
  <code class="language-javascript" translate="No">videojs.registerPlugin('uniqueUserForAnalyticsPlugin', function(options) {
  var myPlayer = this,
  userPath = '',
  uniqueViewer = '';
  //Assign uniqueViewer a value according to your app and business rules
  //In this example, parsing the path passed to the plugin in the options object
  userPath = options.path;
  uniqueViewer = userPath.substring( userPath.lastIndexOf('/') + 1 );
  //Assign a user variable to Analytic's settings object
  myPlayer.bcAnalytics.client.user(USER) = uniqueViewer;
  });
  </code>
  </pre>

    <p>このコードは、アプリケーションロジックに合わせて変更し、インターネットでアクセス可能なURLに保存する必要があります。</p>

    <p>Studioから、<strong>プラグイン</strong>示されているように、プレーヤーにプラグインをロードするセクション。</p>

    <figure class="bcls-figure"><img class="bcls-image" alt="Studio Plugin Section" src="//learning-services-media.brightcove.com/doc-assets/video-cloud-apis/analytics-api/data-collection/data-collection-api-overview/unique-user-plugin-studio.png" />
      <figcaption class="bcls-caption--image">スタジオプラグインセクション</figcaption>
    </figure>

    <p>次のJSONの代わりに、ユーザーデータを含む文字列をプラグインに渡します。もちろん、一意のユーザーIDを抽出するには、それに応じてプラグインコードを更新する必要があります。</p>

    <pre class="line-numbers">
  <code class="language-json" translate="No">{
  "path": "http://exampledomain.com/users/912389123"
  }
  </code>
  </pre>

    <p>プラグイン開発の詳細については、<a href="https://player.support.brightcove.com/coding-topics/step-step-plugin-development.html">ステップバイステップ：プラグイン開発</a>資料。</p>

    <h3 id="device_type-and-device_os-parameters"><code translate="No">device_type</code>、<code translate="No">device_os</code>、<code translate="No">device_os_version</code>、<code translate="No">device_manufacturer</code>、および<code translate="No">browser_type</code>パラメーター</h3>

    <p>デフォルトでは、AnalyticsシステムはUser-AgentヘッダーからデバイスタイプとOS情報を検出しようとします。場合<strong>どちらも</strong><code translate="No">device_type</code>そして<code translate="No">device_os</code>が送信されると、User-Agentヘッダーからの情報は無視され、<code translate="No">device_type</code>そして<code translate="No">device_os</code>。<strong>ほとんどの場合、デバイス、OS、およびブラウザーの情報を送信する必要はありません。</strong> -このオーバーライドは、User-Agentが信頼できないか、そうでなければ利用できない場合にのみ使用する必要があります。</p>

    <p>分析システムは記録します<code translate="No">other</code>リクエストにデバイスパラメータオーバーライドの認識されない値が含まれている場合。</p>

    <h3 id="geographic-data-parameters">地理データパラメータ</h3>

    <p>デフォルトでは、AnalyticsシステムはリモートIPアドレスから地理情報を検出しようとします。この動作は、渡すことでオーバーライドできます<code translate="No">country</code>、<code translate="No">country_name</code>、<code translate="No">region</code>、<code translate="No">region_name</code>、<code translate="No">city</code>そして<code translate="No">dma</code>パラメーター。<strong>ほとんどの場合、これらのパラメーターは必要ありません</strong> -このオーバーライドは、リモートIPアドレスが信頼できない場合、またはその他の方法で使用できない場合にのみ使用する必要があります。</p>

    <p>分析システムは記録します<code translate="No">ZZ</code>または<code translate="No">unknown</code>リクエストにオーバーライドの認識されない値が含まれている場合。</p>

    <h3 id="destination-and-source-parameters">宛先およびソースパラメータ</h3>

    <p>ザ・<code translate="No">destination</code>そして<code translate="No">source</code>パラメータは、イベントを発生させたURIを提供します（<code translate="No">destination</code>）およびユーザーをそこに送信したURI（<code translate="No">source</code>）。</p>

    <p>ザ・<code translate="No">source</code>パラメータは、トラフィックソース情報を決定するために使用されます。場合<code translate="No">source</code>指定されていない場合、Analyticsシステムはイベントを直接トラフィックによって開始されたものとして扱います。</p>

    <p>ザ・<code translate="No">destination</code>パラメータは、トラフィックの宛先情報、つまりビデオが視聴されている場所を決定するために使用されます。URI に権限が含まれていない場合、API はを記録しません<code translate="No">destination_domain</code>。<code translate="No">destination_path</code>は URI のパスとして記録されます。</p>

    <p>Web再生中、ビデオが再生されているページのアドレスバーのURLは<code translate="No">destination</code>、 そしてその<code translate="No">source</code>リファラーです（<code translate="No">top.document.referrer</code>）。</p>

    <p>たとえば、Brightcoveサポートサイトで「ライブストリーミングワイヤーキャスト」を検索し、結果に表示されるビデオを見る場合、次のようになります。</p>

    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>パラメーター</th>
          <th>値</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><code translate="No">source</code></td>
          <td>
            <pre class="line-numbers" style="white-space:pre-wrap;padding-top:1em;padding-bottom:1em;">
  <code class="language-http" translate="No">https://support.brightcove.com/en/video-cloud/search/live%20streaming%20wirecast
  </code>
  </pre>
          </td>
        </tr>
        <tr>
          <td><code translate="No">destination</code></td>
          <td>
            <pre class="line-numbers" style="white-space:pre-wrap;padding-top:1em;padding-bottom:1em;">
  <code class="language-http" translate="No">https://support.brightcove.com/en/video-cloud/training-videos/live-streaming-wirecast
  </code>
  </pre>
          </td>
        </tr>
      </tbody>
    </table>

    <p>URLがない場合（たとえば、ネイティブ再生の場合など）、両方<code translate="No">destination</code>そして<code translate="No">source</code>ビデオが再生されている場所とユーザーがそこに到達した方法をそれぞれ識別する有効なURIである必要があります。</p>

    <p>と仮定して<code translate="No">destination</code>は<a href="http://en.wikipedia.org/wiki/URI_scheme#Generic_syntax">有効なURI</a>：</p>

    <pre>
  <code translate="No">&lt;scheme name&gt; : &lt;hierarchical part&gt; [ ? &lt;query&gt; ] [ # &lt;fragment&gt; ]
  ex. https://www.example.com/foo/bar/baz
 
---
-----------/----------/
  |             |
  authority        path
 
---
/   
---
----------------------/
  |                |
  scheme       hierarchical part
  </code>
  </pre>

    <p>Analyticsシステムはそれを次のように処理します。</p>

    <p>URIにが含まれている場合<strong>権限</strong>、API応答は、その権限を<code translate="No">destination_domain</code>およびとして提供されるパス<code translate="No">destination_path</code>。URI に権限が含まれていない場合、API はを記録しません<code translate="No">destination_domain</code>。<code translate="No">destination_path</code>は URI のパスとして記録されます。A <code translate="No">destination</code>階層部分がない場合（たとえば、スキームのみ）は、スキームがない場合と同様に無効と見なされます。</p>
  </section>

  <section class="bcls-section">
    <h2 id="parameters_for_specific_events">特定のイベントのパラメーター</h2>

    <h3 id="errorEvent">エラーイベントパラメータ</h3>

    <p>次のパラメータを一緒に送信する必要があります<code translate="No">error</code>イベント。</p>

    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th style="width: 30%">フィールド</th>
          <th style="width: 10%">タイプ</th>
          <th style="width: 70%">説明</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><code translate="No">error_code</code><span class="label label-optional" style="float:right;">オプション</span></td>
          <td>数値</td>
          <td>
            <p>イベントに関連付けられたプラットフォーム固有のエラーコード</p>
          </td>
        </tr>
      </tbody>
    </table>

    <h3 id="catalog_requestEvent">catalog_requestイベントパラメータ</h3>

    <p>次のパラメータを一緒に送信する必要があります<code translate="No">catalog_request</code>イベント。</p>

    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th style="width: 30%">フィールド</th>
          <th style="width: 10%">タイプ</th>
          <th style="width: 70%">説明</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><code translate="No">catalog_url</code><span class="label label-optional" style="float:right;">オプション</span></td>
          <td>文字列</td>
          <td>
            <p>catalog_requestイベントに関連付けられた宛先URL</p>
          </td>
        </tr>
      </tbody>
    </table>

    <h3 id="catalog_responseEvent">catalog_responseイベントパラメータ</h3>

    <p>次のパラメータを一緒に送信する必要があります<code translate="No">catalog_response</code>イベント。</p>

    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th style="width: 30%">フィールド</th>
          <th style="width: 10%">タイプ</th>
          <th style="width: 70%">説明</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><code translate="No">catalog_url</code><span class="label label-optional" style="float:right;">オプション</span></td>
          <td>文字列</td>
          <td>
            <p>この応答を開始したcatalog_requestイベントに関連付けられた宛先URL</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">response_time_ms</code><span class="label label-optional" style="float:right;">オプション</span></td>
          <td>数値</td>
          <td>
            <p>catalog_requestイベントとcatalog_responseイベントの間のミリ秒単位の時間</p>
          </td>
        </tr>
      </tbody>
    </table>

    <h3 id="video_impressionEvent">video_impressionイベントパラメータ</h3>

    <p>次のパラメータを一緒に送信する必要があります<code translate="No">video_impression</code>イベント。</p>

    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th style="width: 30%">フィールド</th>
          <th style="width: 10%">タイプ</th>
          <th style="width: 70%">説明</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><code translate="No">video</code><span class="label label-optional" style="float:right;">オプション</span></td>
          <td>文字列</td>
          <td>
            <p>動画ID</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">video_name</code><span class="label label-optional" style="float:right;">オプション</span></td>
          <td>文字列</td>
          <td>
            <p>動画の名前</p>
          </td>
        </tr>
      </tbody>
    </table>

    <h3 id="video_viewEvent">video_viewイベントパラメータ</h3>

    <p>次のパラメータを一緒に送信する必要があります<code translate="No">video_view</code>イベント。</p>

    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th style="width: 30%">フィールド</th>
          <th style="width: 10%">タイプ</th>
          <th style="width: 70%">説明</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><code translate="No">video</code><span class="label label-optional" style="float:right;">オプション</span></td>
          <td>文字列</td>
          <td>
            <p>動画ID</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">video_name</code><span class="label label-optional" style="float:right;">オプション</span></td>
          <td>文字列</td>
          <td>
            <p>動画の名前</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">start_time_ms</code><span class="label label-optional" style="float:right;">オプション</span></td>
          <td>文字列</td>
          <td>
            <p>再生の開始からレンダリングされるビデオの最初のフレームまでの時間（ミリ秒単位）。これはエクスペリエンスによって異なる場合があります。たとえば、プレロール広告が設定されていない場合、この測定値は<code translate="No">play_request</code>そして<code translate="No">video_view</code>イベント。プレロール広告がある場合、その間の時間<code translate="No">ad_mode_begin</code>そして<code translate="No">ad_mode_complete</code>含めるべきではありません</p>
          </td>
        </tr>
      </tbody>
    </table>

    <h3 id="engagementEventParams">video_engagementイベントパラメータ</h3>

    <p>次のパラメータを一緒に送信する必要があります<code translate="No">video_engagement</code>イベント。</p>

    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th style="width: 30%">フィールド</th>
          <th style="width: 10%">タイプ</th>
          <th style="width: 70%">説明</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><code translate="No">video</code><span class="label label-optional" style="float:right;">オプション</span></td>
          <td>文字列</td>
          <td>
            <p>動画ID</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">video_name</code><span class="label label-optional" style="float:right;">オプション</span></td>
          <td>文字列</td>
          <td>
            <p>動画の名前</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">range</code><span class="label label-optional" style="float:right;">オプション</span></td>
          <td>文字列</td>
          <td>
            <p>視聴されたビデオの範囲<code translate="No">video_engagement</code>形式のイベント<code translate="No">StartSecond..EndSecond</code>（StartSecondとEndSecondの値は整数[整数]である必要があります）-範囲はエンゲージメントイベントから除外して、イベントの対象期間中に視聴アクティビティがなかったことを示すことができます。 （たとえば、再バッファリングアクティビティのみがある場合）</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">rendition_url</code><span class="label label-optional" style="float:right;">オプション</span></td>
          <td>文字列</td>
          <td>
            <p>最後に選択したレンディションへの URL。たとえば、HLSストリームの場合、これは最後に選択されたバリアントへのURLになります</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">rendition_indicated_bps</code><span class="label label-optional" style="float:right;">オプション</span></td>
          <td>文字列</td>
          <td>
            <p>最近選択されたレンディションの表示されたビットレート（ビット/秒）</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">rendition_mime_type</code><span class="label label-optional" style="float:right;">オプション</span></td>
          <td>文字列</td>
          <td>
            <p>最近選択されたレンディションのmimeタイプ</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">rendition_height</code><span class="label label-optional" style="float:right;">オプション</span></td>
          <td>文字列</td>
          <td>
            <p>ビデオレンディションのエンコードされた高さ（ピクセル単位）</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">rendition_width</code><span class="label label-optional" style="float:right;">オプション</span></td>
          <td>文字列</td>
          <td>
            <p>ビデオレンディションのエンコードされた幅（ピクセル単位）</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">rebuffering_seconds</code><span class="label label-optional" style="float:right;">オプション</span></td>
          <td>文字列</td>
          <td>
            <p>エンゲージメント期間中の要求されていない遅延のために、ユーザーがビデオの再生を待機するのに費やした秒数</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">rebuffering_count</code><span class="label label-optional" style="float:right;">オプション</span></td>
          <td>文字列</td>
          <td>
            <p>エンゲージメント期間中の表されたエンゲージメント期間の遅延中に再バッファリングが原因で再生が停止した回数</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">forward_buffer_seconds</code><span class="label label-optional" style="float:right;">オプション</span></td>
          <td>文字列</td>
          <td>
            <p>現在転送バッファにあるビデオの秒数</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">measured_bps</code><span class="label label-optional" style="float:right;">オプション</span></td>
          <td>文字列</td>
          <td>
            <p>最近ダウンロードされたセグメントに含まれるビット数と、そのセグメントのダウンロードに費やされた時間の比率（ビット/秒）</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">player_width</code><span class="label label-optional" style="float:right;">オプション</span></td>
          <td>文字列</td>
          <td>
            <p>エンゲージメント範囲の終了時のプレーヤーの現在のピクセル幅</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">player_height</code><span class="label label-optional" style="float:right;">オプション</span></td>
          <td>文字列</td>
          <td>
            <p>エンゲージメント範囲の終了時のプレーヤーの現在のピクセルの高さ</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">dropped_frames</code><span class="label label-optional" style="float:right;">オプション</span></td>
          <td>文字列</td>
          <td>
            <p>dropped_frames</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">video_duration</code><span class="label label-optional" style="float:right;">オプション</span></td>
          <td>数値</td>
          <td>
            <p>秒単位のビデオの長さ</p>
          </td>
        </tr>
        <tr>
          <td><code translate="No">video_seconds_viewed</code><span class="label label-optional" style="float:right;">オプション</span></td>
          <td>数値</td>
          <td>
            <p>の最後の更新以降に監視された秒数<code translate="No">video_engagement</code>イベント</p>
          </td>
        </tr>
      </tbody>
    </table>

    <p>ザ・<code translate="No">video_engagement</code>イベントは、動画の再生中に動画のエンゲージメントを追跡する手段であり、再生中に何度も送信される可能性があります。（再生が中断されない場合、Flash / HTML5プレーヤーインストルメンテーションはこのイベントを10秒ごとに送信します。）<strong>現在、20秒を超える範囲を表すイベントは、Analyticsシステムによって破棄されるため、これらのイベントをより頻繁に送信する必要があります。</strong></p>

    <p>2つの形式があります<code translate="No">video_engagement</code>イベントは取ることができます（簡潔にするために他のパラメーターは省略されています）：</p>

    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>例</th>
          <th>意味</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td>
            <pre class="line-numbers" style="white-space:pre-wrap;padding-top:1em;padding-bottom:1em;">
  <code class="language-http" translate="No">event=video_engagement&amp;video=123&amp;video_duration=75&amp;range=0..9
  </code>
  </pre>
          </td>
          <td>ビデオ<code translate="No">123</code> 75秒の長さで0から9秒まで再生されました（合計10秒が表示されました）。</td>
        </tr>
        <tr>
          <td><code translate="No">event=video_engagement&amp;video=123&amp;video_seconds_viewed=10</code></td>
          <td>10秒のビデオ<code translate="No">123</code>見られました。</td>
        </tr>
      </tbody>
    </table>

    <p>どちらのバージョンも視聴秒数を追跡しますが、<code translate="No">video_duration</code>そして<code translate="No">range</code>追加のエンゲージメントデータを計算するために必要な情報も含まれています。<strong>推奨される方法</strong>送信する<code translate="No">video_engagement</code>分析システムへのイベントデータ。ライブストリームの場合、または再生中にビデオのタイムラインが継続的に変更される場合、またはその他の点で信頼性が低い場合は、<code translate="No">video_seconds_viewed</code>利用可能な唯一のデータになります。VODの場合、<code translate="No">duration</code>利用できません、<code translate="No">video_engagement</code>イベントには含める必要があります<code translate="No">video_duration</code>そして<code translate="No">range</code>。</p>

    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>パラメーター</th>
          <th>派生エンゲージメント指標（API）</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><code translate="No">video_duration</code>、<code translate="No">range</code></td>
          <td><code translate="No">video_seconds_viewed</code>、<code translate="No">video_percent_viewed</code>、<code translate="No">engagement_score</code> ;エンゲージメントカーブデータ</td>
        </tr>
        <tr>
          <td><code translate="No">video_seconds_viewed</code></td>
          <td><code translate="No">video_seconds_viewed</code></td>
        </tr>
      </tbody>
    </table>

    <p>3つのパラメータすべての場合（<code translate="No">video_duration</code>、<code translate="No">range</code>そして<code translate="No">video_seconds_viewed</code>）と一緒に送信されます<code translate="No">video_engagement</code>イベントの場合、分析システムはからエンゲージメント指標を計算します<code translate="No">video_duration</code> + <code translate="No">range</code>パラメーター。</p>

    <h3 id="changesFromV1">V2の変更</h3>

    <p>このセクションでは、v1を使用しているユーザー向けに、データコレクターのv1からv2への変更の概要を示します。</p>

    <h3>トラッカーのベースURL</h3>

    <pre>
  <code translate="No">http(s)://metrics.brightcove.com/v2
  </code>
  </pre>

    <h3>すべてのイベントでサポートされる追加のフィールド：</h3>

    <p><strong>device_os_version</strong>：デバイスで使用されている OS のバージョン。指定されていない場合、これは追跡要求のユーザーエージェント文字列を解析することによって計算されます。</p>

    <p><strong>platform_version</strong>：指定されたプラットフォームの新しいリリースがイベントの送信に使用されていることを示すために使用されます。</p>

    <h3>V2の新しいイベント</h3>

    <p><strong>catalog_request</strong>：videocloudカタログAPIへのリクエストが行われたときに送信されます-このイベントは内部使用のためであり、AnalyticsモジュールまたはAnalytics APIを介して公開されないことに注意してください。</p>

    <ul>
      <li><strong>catalog_url </strong> :に関連付けられているリンク先URL <code translate="No">catalog_request</code>イベント-このイベントは内部使用のためであり、AnalyticsモジュールまたはAnalytics APIを介して公開されないことに注意してください。</li>
    </ul>

    <p><strong>catalog_response</strong>：前への応答時に送信されます<code translate="No">catalog_request</code>受信-このイベントは内部使用のためであり、AnalyticsモジュールまたはAnalytics APIを介して公開されないことに注意してください。</p>

    <ul>
      <li><strong>catalog_url </strong> :に関連付けられているリンク先URL <code translate="No">catalog_request</code>この応答を開始したイベント-このイベントは内部使用のためであり、AnalyticsモジュールまたはAnalytics APIを介して公開されないことに注意してください。</li>
      <li><strong>response_time_ms</strong>：ミリ秒単位の時間<code translate="No">catalog_request</code>イベントと<code translate="No">catalog_response</code>イベント-このイベントは内部使用のためであり、AnalyticsモジュールまたはAnalytics APIを介して公開されないことに注意してください。</li>
    </ul>

    <p><strong>play_request</strong>：ユーザーが明示的に再生ボタンをクリックしたときに再生が開始されたとき、またはプラットフォームが自動再生シナリオで再生をトリガーしたときに自動的に送信されます。</p>

    <p><strong>ad_mode_begin</strong>：[置換<code translate="No">ad_start</code> ]再生プラットフォームから広告代理店にコントロールが渡されたときに送信されます。</p>

    <p><strong>ad_mode_complete</strong>：[置換<code translate="No">ad_end</code> ]広告代理店から再生プラットフォームに制御が戻されたときに送信されます。</p>

    <p><strong>エラー</strong>：再生体験を妨げる致命的なエラーが発生したときに送信されます。</p>

    <ul>
      <li><strong>エラーコード</strong>：イベントに関連付けられたプラットフォーム固有のエラーコード。</li>
    </ul>

    <h3>V2の更新されたイベント</h3>

    <p><strong>video_view</strong>：新しいレイテンシ測定が含まれています</p>

    <ul>
      <li><strong>load_time_ms</strong>：ビデオのデータロードを開始してからビデオが再生可能になるまでの時間（ミリ秒単位）。</li>
      <li><strong>start_time_ms</strong>：再生の開始からレンダリングされるビデオの最初のフレームまでの時間（ミリ秒単位）。これはエクスペリエンスによって異なる場合があります。たとえば、プレロール広告が設定されていない場合、この測定値は 'play_request間の時間です。' と<code translate="No">video_view</code>イベント。プレロール広告がある場合、その間の時間<code translate="No">ad_mode_begin</code>そして<code translate="No">ad_mode_complete</code>含まれるべきではありません。</li>
    </ul>

    <p><strong>video_engagement</strong>：追加のレンディション選択、ビットレート測定、およびバッファリング情報が含まれます。ビデオエンゲージメントにも微妙な変更が加えられ、エンゲージメント期間中に視聴が発生しなかった場合でも定期的に送信する必要があります。この変更は、ユーザーが再生を待機する原因となる再バッファリングの遅延とカウントを追跡できるようにするためのものです。</p>

    <ul>
      <li><strong>範囲</strong>：範囲パラメーターはオプションになりました。範囲をエンゲージメントイベントから除外して、イベントの対象期間中に視聴アクティビティがなかったことを示すことができます。 （たとえば、再バッファリングアクティビティのみがある場合）</li>
      <li><strong>rendition_url</strong>：最後に選択したレンディションへの URL。たとえば、HLSストリームの場合、これは最後に選択されたバリアントへのURLになります。</li>
      <li><strong>rendition_indicated_bps</strong>：最後に選択されたレンディションの、示されたビットレート（ビット/秒）。</li>
      <li><strong>rendition_mime_type</strong>：最近選択されたレンディションのmimeタイプ。</li>
      <li><strong>rendition_height</strong>：ビデオレンディションのエンコードされた高さ（ピクセル単位）</li>
      <li><strong>rendition_width</strong>：ビデオレンディションのエンコードされた幅（ピクセル単位）</li>
      <li><strong>rebuffering_seconds</strong>：エンゲージメント期間中の要求されていない遅延のために、ユーザーがビデオの再生を待機するのに費やした秒数。</li>
      <li><strong>rebuffering_count</strong>：表示されたエンゲージメント期間中に再バッファリングが原因で再生が停止した回数。</li>
      <li><strong>forward_buffer_seconds</strong>：現在フォワードバッファにあるビデオの秒数。</li>
      <li><strong>Measurement_bps</strong>：最近ダウンロードされたセグメントに含まれるビット数と、そのセグメントのダウンロードに費やされた時間の比率（ビット/秒）。</li>
      <li><strong>player_width</strong>エンゲージメント範囲の終了時のプレーヤーの現在のピクセル幅。</li>
      <li><strong>player_height</strong>エンゲージメント範囲の終了時のプレーヤーの現在のピクセルの高さ。</li>
      <li><strong>dropped_frames</strong>：このエンゲージメント期間中にビデオ再生からドロップされたフレーム数</li>
    </ul>
  </section>
</article>